from math import pi

import numpy as np

from sensor_msgs.msg import JointState
from motion import *

'''
pickup- [0.3707147538661957, -0.6427222458802795, -0.2488348742842285, 0.19985899129657744, 0.3433222957885742, -0.24732408942832945, 1.2769992243164063, 0.18256101062274932]
stall- [0.37060031294822693, -0.6419552533113098, -1.0280969401716797, 0.20062598386554717, 1.016356486920166, -0.13457649471416472, 1.4967419992797852, 0.18141053667045592]
0, 0 overhead - [0.3704706132411957, -0.19364934844604492, -0.9889805575728028, 0.2002424875810623, 1.456992644909668, -0.13457649471416472, 1.099057425152588, 0.18256101062274932]
0, 0 place- [0.36982211470603943, -0.20208626670471191, -0.9893639346479981, 0.20062598386554717, 1.722371120098877, -0.13534347983255385, 0.7623488794677734, 0.18102704038597106]

'''

def goto(joint):
    joint[0] = 0.37060031294822693

    move_arm_joints(joint)

    rospy.sleep(3)

    rospy.loginfo('Moved to point')

def init_arm():
    #joints = [2.9803242683410645, -1.5093436805688476, -0.4041502734541504, -1.129718886820984,-1.4648575595581055, 1.9692782062088012, 2.017528761517334, 0.6389203225610351]
    
    # init forward right near 0,1
    joints = [0.37060031294822693, -0.6419552533113098, -1.0280969401716797, 0.20062598386554717, 1.016356486920166, -0.13457649471416472, 1.4967419992797852, 0.18141053667045592]
    
    move_arm_joints(joints)
    print("Arm location initialized")

def main():
    rospy.init_node('test_motion')

    init_arm()

    pickup = [0.3707147538661957, -0.6427222458802795, -0.2488348742842285, 0.19985899129657744, 0.3433222957885742, -0.24732408942832945, 1.2769992243164063, 0.18256101062274932]
    stall = [0.37060031294822693, -0.6419552533113098, -1.0280969401716797, 0.20062598386554717, 1.016356486920166, -0.13457649471416472, 1.4967419992797852, 0.18141053667045592]
    p00_overhead = [0.3704706132411957, -0.19364934844604492, -0.9889805575728028, 0.2002424875810623, 1.456992644909668, -0.13457649471416472, 1.099057425152588, 0.18256101062274932]
    p00_place = [0.36982211470603943, -0.20208626670471191, -0.9893639346479981, 0.20062598386554717, 1.722371120098877, -0.13534347983255385, 0.7623488794677734, 0.18102704038597106]

    '''
    goto(pickup)
    goto(stall)
    goto(p00_overhead)
    goto(p00_place)
    '''

    move_gripper(0)
    for i in range(5):
        rospy.sleep(1)
        print('sleep')
    move_gripper(100)

if __name__ == '__main__':
        main()